<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğ‘·ğ‘¹ğ‘¬ğ‘ªğ‘°ğ‘¶ğ‘¼ğ‘º x â™¡ Downloader</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #fff5f8;
  padding: 20px;
  text-align: center;
}

h1 {
  color: #d63384;
  margin-bottom: 20px;
}

input {
  width: 90%;
  padding: 12px;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-bottom: 15px;
}

button {
  padding: 12px 18px;
  margin: 6px;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  cursor: pointer;
  background: #e83e8c;
  color: white;
}

button:hover {
  background: #c2185b;
}

#result {
  margin-top: 20px;
  font-size: 16px;
}

.download-link {
  display: block;
  margin: 10px auto;
  padding: 10px;
  width: 80%;
  background: #28a745;
  color: white;
  border-radius: 8px;
  text-decoration: none;
}
</style>
</head>

<body>

<h1>ğ‘·ğ‘¹ğ‘¬ğ‘ªğ‘°ğ‘¶ğ‘¼ğ‘º x â™¡</h1>

<input id="url" placeholder="Paste video link">

<div>
<button onclick="getVideo('tiktok')">TikTok</button>
<button onclick="getVideo('youtube')">YouTube</button>
<button onclick="getVideo('instagram')">Instagram</button>
<button onclick="getVideo('facebook')">Facebook</button>
<button onclick="getVideo('twitter')">Twitter</button>
<button onclick="getVideo('reddit')">Reddit</button>
<button onclick="getVideo('pinterest')">Pinterest</button>
<button onclick="getVideo('vimeo')">Vimeo</button>
<button onclick="getVideo('dailymotion')">Dailymotion</button>
<button onclick="getVideo('likee')">Likee</button>
</div>

<div id="result"></div>

<script>
async function getVideo(platform) {
  const url = document.getElementById("url").value;
  const resultBox = document.getElementById("result");

  if (!url) {
    resultBox.innerHTML = "Paste a video link first";
    return;
  }

  resultBox.innerHTML = "Fetching download options...";

  try {
    const res = await fetch(`/api/${platform}?url=` + encodeURIComponent(url));
    const data = await res.json();

    if (data.error) {
      resultBox.innerHTML = data.error;
      return;
    }

    let html = "<h3>Download Options</h3>";

    if (data.thumbnail) {
      html += `<img src="${data.thumbnail}" width="200"><br>`;
    }

    data.qualities.forEach(q => {
      html += `<a class="download-link" href="${q.url}" target="_blank">Download ${q.quality}</a>`;
    });

    resultBox.innerHTML = html;

  } catch {
    resultBox.innerHTML = "Failed to fetch video";
  }
}
</script>

</body>
</html>
